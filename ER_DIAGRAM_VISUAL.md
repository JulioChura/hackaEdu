# ğŸ—„ï¸ Diagrama ER - HackaEdu (Formato Visual)

## Relaciones Principales

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CATÃLOGOS (Lookups)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ NivelCEFR       â”‚   â”‚ CriterioHabilidadâ”‚   â”‚ Categoria       â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ id (PK)         â”‚   â”‚ id (PK)          â”‚   â”‚ id (PK)         â”‚      â”‚
â”‚  â”‚ codigo (A1-C2)  â”‚   â”‚ codigo (VARCHAR) â”‚   â”‚ nombre          â”‚      â”‚
â”‚  â”‚ nombre          â”‚   â”‚ nombre           â”‚   â”‚ descripcion     â”‚      â”‚
â”‚  â”‚ cantidad_preg   â”‚   â”‚ peso (INT)       â”‚   â”‚ icono_url       â”‚      â”‚
â”‚  â”‚ lecturas_asc    â”‚   â”‚ descripcion      â”‚   â”‚ color           â”‚      â”‚
â”‚  â”‚ promedio_req    â”‚   â”‚ formula_calculo  â”‚   â”‚                 â”‚      â”‚
â”‚  â”‚ distribucion    â”‚   â”‚                  â”‚   â”‚                 â”‚      â”‚
â”‚  â”‚ (JSON)          â”‚   â”‚                  â”‚   â”‚                 â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚           â–²                                                             â”‚
â”‚           â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Modalidad         â”‚                       â”‚ (4 mÃ¡s...)     â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”‚ id (PK)            â”‚                                                 â”‚
â”‚  â”‚ codigo             â”‚ (IA_GENERAR|MANUAL|API_NEWS|PERSONALIZADA)     â”‚
â”‚  â”‚ nombre             â”‚                                                 â”‚
â”‚  â”‚ descripcion        â”‚                                                 â”‚
â”‚  â”‚ requiere_validacionâ”‚                                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USUARIOS Y AUTENTICACIÃ“N                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ Usuario (extends AbstractUser)       â”‚                              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚  â”‚ id (PK)                              â”‚                              â”‚
â”‚  â”‚ username (UNIQUE)                    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ email (UNIQUE)                       â”‚          â”‚                  â”‚
â”‚  â”‚ password (hashed)                    â”‚          â”‚                  â”‚
â”‚  â”‚ first_name, last_name                â”‚          â”‚                  â”‚
â”‚  â”‚ rol (ESTUDIANTE|ADMIN)               â”‚          â”‚                  â”‚
â”‚  â”‚ nivel_cefr FKâ†’NivelCEFR              â”‚          â”‚ 1:1             â”‚
â”‚  â”‚ puntos_totales                       â”‚          â”‚ RelatedName:    â”‚
â”‚  â”‚ lecturas_completadas                 â”‚          â”‚ 'usuario'       â”‚
â”‚  â”‚ esta_activo                          â”‚          â”‚                  â”‚
â”‚  â”‚ is_active, is_staff, is_superuser    â”‚          â”‚                  â”‚
â”‚  â”‚ date_joined, last_login              â”‚          â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚                  â”‚
â”‚                                                    â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚                  â”‚
â”‚  â”‚ Token (Django Built-in)             â”‚          â”‚                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚                  â”‚
â”‚  â”‚ key (UNIQUE)                        â”‚          â”‚                  â”‚
â”‚  â”‚ user FKâ†’Usuario                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚  â”‚ created                             â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ ProgresionNivel (One-to-One)        â”‚                              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚  â”‚ id (PK)                             â”‚                              â”‚
â”‚  â”‚ usuario FKâ†’Usuario (UNIQUE)         â”‚â—„â”€â”€1:1â”€â”€â”˜                    â”‚
â”‚  â”‚ nivel_actual FKâ†’NivelCEFR           â”‚                              â”‚
â”‚  â”‚ lecturas_completadas_nivel (INT)    â”‚                              â”‚
â”‚  â”‚ promedio_nivel (FLOAT)              â”‚                              â”‚
â”‚  â”‚ puntos_en_nivel (INT)               â”‚                              â”‚
â”‚  â”‚ intentos_ascenso (INT)              â”‚                              â”‚
â”‚  â”‚ esta_preparado_ascenso (BOOL)       â”‚                              â”‚
â”‚  â”‚ fecha_ultimo_ascenso (DT)           â”‚                              â”‚
â”‚  â”‚ fecha_actualizacion (DT)            â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONTENIDO Y LECTURA                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ Lectura                             â”‚                              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚  â”‚ id (PK)                             â”‚â—„â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ titulo                              â”‚      â”‚ 1:N                 â”‚
â”‚  â”‚ contenido (TEXT)                    â”‚      â”‚                     â”‚
â”‚  â”‚ nivel FKâ†’NivelCEFR                  â”‚      â”‚                     â”‚
â”‚  â”‚ categoria FKâ†’Categoria              â”‚      â”‚                     â”‚
â”‚  â”‚ modalidad FKâ†’Modalidad              â”‚      â”‚                     â”‚
â”‚  â”‚ autor_ia_usado (VARCHAR)            â”‚      â”‚                     â”‚
â”‚  â”‚ cantidad_palabras (INT)             â”‚      â”‚                     â”‚
â”‚  â”‚ duracion_minutos_promedio (INT)     â”‚      â”‚                     â”‚
â”‚  â”‚ archivo_url (VARCHAR)               â”‚      â”‚                     â”‚
â”‚  â”‚ interes_tags (JSON)                 â”‚      â”‚                     â”‚
â”‚  â”‚ fecha_creacion, actualizacion (DT)  â”‚      â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                     â”‚
â”‚                                               â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”                  â”‚
â”‚  â”‚ Pregunta                                      â”‚                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚  â”‚ id (PK)                                      â”‚                  â”‚
â”‚  â”‚ lectura FKâ†’Lectura                           â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ numero (INT 1-15)                            â”‚        â”‚ 1:N   â”‚
â”‚  â”‚ texto (TEXT)                                 â”‚        â”‚       â”‚
â”‚  â”‚ tipo (MULTIPLE|COMPLETAR|VERDADERO|etc)     â”‚        â”‚       â”‚
â”‚  â”‚ criterio FKâ†’CriterioHabilidad               â”‚        â”‚       â”‚
â”‚  â”‚ dificultad (FACIL|MEDIA|DIFICIL)            â”‚        â”‚       â”‚
â”‚  â”‚ opciones_json (JSON - para MC)              â”‚        â”‚       â”‚
â”‚  â”‚ respuesta_correcta (VARCHAR)                 â”‚        â”‚       â”‚
â”‚  â”‚ explicacion (TEXT)                           â”‚        â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜        â”‚       â”‚
â”‚                                               â”‚          â”‚       â”‚
â”‚                                               â”‚          â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”      â”‚       â”‚
â”‚  â”‚ Respuesta                                     â”‚      â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚       â”‚
â”‚  â”‚ id (PK)                                      â”‚      â”‚       â”‚
â”‚  â”‚ sesion FKâ†’Sesion                            â”‚      â”‚       â”‚
â”‚  â”‚ pregunta FKâ†’Pregunta                        â”œâ”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”‚ respuesta_usuario (VARCHAR)                 â”‚              â”‚
â”‚  â”‚ es_correcta (BOOL)                          â”‚              â”‚
â”‚  â”‚ puntos_obtenidos (FLOAT)                    â”‚              â”‚
â”‚  â”‚ tiempo_respuesta_segundos (INT)             â”‚              â”‚
â”‚  â”‚ fecha_respuesta (DT)                        â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜              â”‚
â”‚                                             â”‚                 â”‚
â”‚                                             â”‚ 1:N             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”             â”‚
â”‚  â”‚ Sesion                                       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚ id (PK)                                      â”‚
â”‚  â”‚ usuario FKâ†’Usuario                          â”‚
â”‚  â”‚ lectura FKâ†’Lectura                          â”‚
â”‚  â”‚ nivel FKâ†’NivelCEFR                          â”‚
â”‚  â”‚ estado (INICIADA|EN_PROGRESO|COMPLETADA)    â”‚
â”‚  â”‚ fecha_inicio, fecha_fin (DT)                 â”‚
â”‚  â”‚ duracion_minutos (INT)                       â”‚
â”‚  â”‚ puntaje_total (FLOAT 0-100)                  â”‚
â”‚  â”‚ puntajes_por_criterio (JSON)                 â”‚
â”‚  â”‚ tiempo_total_segundos (INT)                  â”‚
â”‚  â”‚ notas (TEXT)                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ANÃLISIS Y LOGROS                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ DesempenoCriterio            â”‚   â”‚ Logro                       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ id (PK)                      â”‚   â”‚ id (PK)                     â”‚   â”‚
â”‚  â”‚ usuario FKâ†’Usuario           â”‚   â”‚ nombre (UNIQUE)             â”‚   â”‚
â”‚  â”‚ criterio FKâ†’CriterioHab      â”‚   â”‚ tipo (BADGE|MILESTONE|etc)  â”‚   â”‚
â”‚  â”‚ porcentaje_promedio (FLOAT)  â”‚   â”‚ descripcion (TEXT)          â”‚   â”‚
â”‚  â”‚ respuestas_correctas (INT)   â”‚   â”‚ icono_url                   â”‚   â”‚
â”‚  â”‚ respuestas_totales (INT)     â”‚   â”‚ criterio_desbloques (JSON)  â”‚   â”‚
â”‚  â”‚ tendencia (MEJORANDO|ESTABLE)â”‚   â”‚ fecha_creacion (DT)         â”‚   â”‚
â”‚  â”‚ ultima_actualizacion (DT)    â”‚   â”‚                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                              â”‚ 1:N                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ LogroUsuario                                       â”‚               â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚  â”‚ id (PK)                                            â”‚               â”‚
â”‚  â”‚ usuario FKâ†’Usuario                                 â”‚               â”‚
â”‚  â”‚ logro FKâ†’Logro                                     â”‚               â”‚
â”‚  â”‚ fecha_obtenido (DT)                                â”‚               â”‚
â”‚  â”‚ notificacion_enviada (BOOL)                        â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INTEGRACIÃ“N CON IA                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚
â”‚  â”‚ IAPromptTemplate                â”‚                                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                    â”‚
â”‚  â”‚ id (PK)                         â”‚â—„â”€â”€â”                              â”‚
â”‚  â”‚ nombre (UNIQUE)                 â”‚   â”‚ 1:N                          â”‚
â”‚  â”‚ tipo (VARCHAR)                  â”‚   â”‚                              â”‚
â”‚  â”‚ modelo (CLAUDE_3_HAIKU|SONNET)  â”‚   â”‚                              â”‚
â”‚  â”‚ template_texto (TEXT)           â”‚   â”‚                              â”‚
â”‚  â”‚ parametros_json (JSON)          â”‚   â”‚                              â”‚
â”‚  â”‚ activo (BOOL)                   â”‚   â”‚                              â”‚
â”‚  â”‚ fecha_creacion, actualizacion   â”‚   â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                              â”‚
â”‚                                         â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”                          â”‚
â”‚  â”‚ GeneratedContent                         â”‚                         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
â”‚  â”‚ id (PK)                                  â”‚                         â”‚
â”‚  â”‚ prompt_template FKâ†’IAPromptTemplate      â”‚                         â”‚
â”‚  â”‚ usuario FKâ†’Usuario                       â”‚                         â”‚
â”‚  â”‚ contenido_original (TEXT - input)        â”‚                         â”‚
â”‚  â”‚ contenido_generado (TEXT - output)       â”‚                         â”‚
â”‚  â”‚ tipo_contenido (LECTURA|PREGUNTAS|etc)   â”‚                         â”‚
â”‚  â”‚ modelo_ia (VARCHAR)                      â”‚                         â”‚
â”‚  â”‚ tokens_usados (INT)                      â”‚                         â”‚
â”‚  â”‚ costo_usd (DECIMAL)                      â”‚                         â”‚
â”‚  â”‚ es_utilizado (BOOL)                      â”‚                         â”‚
â”‚  â”‚ feedback_usuario (TEXT)                  â”‚                         â”‚
â”‚  â”‚ fecha_generacion (DT)                    â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚ IAHistory (AuditorÃ­a)                    â”‚                         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                         â”‚
â”‚  â”‚ id (PK)                                  â”‚                         â”‚
â”‚  â”‚ usuario FKâ†’Usuario                       â”‚                         â”‚
â”‚  â”‚ tipo_llamada (VARCHAR)                   â”‚                         â”‚
â”‚  â”‚ modelo (VARCHAR)                         â”‚                         â”‚
â”‚  â”‚ prompt (TEXT)                            â”‚                         â”‚
â”‚  â”‚ respuesta_ia (TEXT)                      â”‚                         â”‚
â”‚  â”‚ tokens_usados (INT)                      â”‚                         â”‚
â”‚  â”‚ costo_usd (DECIMAL)                      â”‚                         â”‚
â”‚  â”‚ tiempo_respuesta_ms (INT)                â”‚                         â”‚
â”‚  â”‚ exitosa (BOOL)                           â”‚                         â”‚
â”‚  â”‚ error_mensaje (TEXT)                     â”‚                         â”‚
â”‚  â”‚ fecha_llamada (DT)                       â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Resumen de Relaciones

### Relaciones Por Tabla

```
Usuario (1) â”€â”€â”€â”€â”€â”€â”€ (1) ProgresionNivel
         â”‚
         â”œâ”€ (1) â”€â”€â”€ (N) Sesion
         â”œâ”€ (1) â”€â”€â”€ (N) DesempenoCriterio
         â”œâ”€ (1) â”€â”€â”€ (N) LogroUsuario
         â””â”€ (1) â”€â”€â”€ (N) GeneratedContent, IAHistory

Lectura (1) â”€â”€â”€â”€â”€â”€â”€ (N) Pregunta
       â”‚
       â””â”€ (1) â”€â”€â”€ (N) Sesion

Sesion (1) â”€â”€â”€â”€â”€â”€â”€ (N) Respuesta

NivelCEFR (1) â”€â”€â”€â”€â”€â”€â”€ (N) Usuario
         â”‚
         â”œâ”€ (1) â”€â”€â”€ (N) Lectura
         â””â”€ (1) â”€â”€â”€ (N) ProgresionNivel, Sesion

CriterioHabilidad (1) â”€â”€â”€â”€â”€â”€â”€ (N) Pregunta
                     â”‚
                     â””â”€ (1) â”€â”€â”€ (N) DesempenoCriterio

Logro (1) â”€â”€â”€â”€â”€â”€â”€ (N) LogroUsuario

IAPromptTemplate (1) â”€â”€â”€â”€â”€â”€â”€ (N) GeneratedContent
```

---

## ğŸ”‘ Claves Primarias y Externas

| Tabla | PK | FKs | RelaciÃ³n |
|-------|-----|-----|----------|
| Usuario | id | - | Root |
| ProgresionNivel | id | usuario (1:1-UNIQUE) | One-to-One |
| NivelCEFR | id | - | CatÃ¡logo |
| CriterioHabilidad | id | - | CatÃ¡logo |
| Categoria | id | - | CatÃ¡logo |
| Modalidad | id | - | CatÃ¡logo |
| Lectura | id | nivel, categoria, modalidad | 1:N |
| Pregunta | id | lectura, criterio | 1:N |
| Sesion | id | usuario, lectura, nivel | 1:N |
| Respuesta | id | sesion, pregunta | 1:N |
| DesempenoCriterio | id | usuario, criterio | 1:N |
| Logro | id | - | CatÃ¡logo |
| LogroUsuario | id | usuario, logro | 1:N |
| IAPromptTemplate | id | - | CatÃ¡logo |
| GeneratedContent | id | prompt_template, usuario | 1:N |
| IAHistory | id | usuario | 1:N |

---

## ğŸ“ Cardinalidades

- **1:1** â†’ Usuario â†” ProgresionNivel (One-to-One, UNIQUE)
- **1:N** â†’ Usuario â†’ Sesion, LogroUsuario, etc
- **1:N** â†’ Lectura â†’ Pregunta
- **1:N** â†’ Sesion â†’ Respuesta
- **M:N** (Future) â†’ Usuario â†” Lectura (via Sesion)

---

## ğŸ’¾ InformaciÃ³n Importante

### JSONFields Usados
- `NivelCEFR.distribucion_criterios` â†’ Pesos de criterios por nivel
- `Pregunta.opciones_json` â†’ Opciones para multiple choice
- `Sesion.puntajes_por_criterio` â†’ Desglose de puntajes
- `LogroUsuario.criterios_requeridos` â†’ Criterios para desbloquear
- `IAPromptTemplate.parametros_json` â†’ ConfiguraciÃ³n de IA
- `Lectura.interes_tags` â†’ Tags de interÃ©s

### Ãndices Importantes
```sql
CREATE INDEX idx_usuario_nivel ON Usuario(nivel_cefr_id);
CREATE INDEX idx_sesion_usuario ON Sesion(usuario_id);
CREATE INDEX idx_sesion_estado ON Sesion(estado);
CREATE INDEX idx_respuesta_sesion ON Respuesta(sesion_id);
CREATE INDEX idx_lectura_nivel ON Lectura(nivel_id);
CREATE UNIQUE INDEX idx_progresion_usuario ON ProgresionNivel(usuario_id);
```

---

**Total: 16 tablas, 13 relaciones, 0 redundancias normalizadas âœ…**
